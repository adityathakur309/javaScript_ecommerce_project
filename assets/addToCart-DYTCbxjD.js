import"./footer-DxSWDYdx.js";import{s as q,p as f}from"./showToast-B7o_wwp0.js";import{g as l,n as S}from"./navBar-BFIXQtOj.js";const p=(a,r)=>{let n=l().find(o=>o.id===a),c=1;if(n)return c=n.quantity,r=`Price:${n.price}`,{quantity:c,price:r}},m=()=>{let e=l().reduce((o,s)=>{let t=parseInt(s.price)||0;return o+t},0),n=document.querySelector(".sub-total"),c=document.querySelector(".total");n.innerHTML=`₹${e}`,c.innerHTML=`₹${e+50}`},P=(a,r,e,n)=>{let c=document.querySelector(`#card${a}`),o=c.querySelector(".quantity"),s=c.querySelector(".cart-price"),t=1,i=l(),u=i.find(d=>d.id===a);u?(t=u.quantity,u.price):(e=e,t=1),n.target.classList.contains("increment")&&(t==r?(t=r,t=parseInt(t),e=parseInt(e*t)):t<r&&(t+=1,t=parseInt(t),e=parseInt(e*t))),n.target.classList.contains("decrement")&&(t==1?(t=1,t=parseInt(t),e=parseInt(e*t)):t>1&&(t-=1,t=parseInt(t),e=parseInt(e*t)));let y={id:a,quantity:t,price:e};i=i.map(d=>d.id===a?y:d),localStorage.setItem("cartProduct",JSON.stringify(i)),o.setAttribute("quantity-value",t),o.innerHTML=t,s.textContent=`Price: ₹${e}`,m()},g=a=>{let r=l(),e=document.querySelector(`#card${a}`),n=r.find(c=>c.id===a);n&&(e.remove(),q("delete",a),r=r.filter(c=>c.id!==n.id),localStorage.setItem("cartProduct",JSON.stringify(r)),l(),m())};let I=l(),L=f.filter(a=>I.some(r=>r.id===a.id)),T=document.querySelector(".cart-items"),x=document.querySelector("#cart-item");L.forEach(a=>{let{category:r,image:e,name:n,price:c,id:o,stock:s}=a,t=document.importNode(x.content,!0),i=p(o,c);t.querySelector(".cart-item").setAttribute("id",`card${o}`),t.querySelector(".cart-category").innerText=r,t.querySelector(".cart-img").src=e,t.querySelector(".cart-price").innerText=i.price,t.querySelector(".quantity").innerText=i.quantity,t.querySelector(".product-name").innerText=n,t.querySelector(".remove").addEventListener("click",u=>{g(o)}),t.querySelector(".buttons").addEventListener("click",u=>{P(o,s,c,u)}),T.append(t)});m();S();l();
